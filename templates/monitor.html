<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Real-time Monitoring</title>
  <script src="http://cdn.hcharts.cn/jquery/jquery-1.8.3.min.js"></script>
  <script src="http://cdn.hcharts.cn/highstock/highstock.js"></script>
  <script src="http://cdn.hcharts.cn/highcharts/modules/exporting.js"></script>
</head>

<body>
  <h1>life chart</h1>
  <div id="container" style="min-width:400px;height:400px"></div>
</body>

<script type="text/javascript">
$(function () {
  $.getJSON('/data', function (data) {
      console.log(data)
    // Create the chart
    $('#container').highcharts('StockChart', {
      chart: {
        events: {
          load: function () {
            var chart = $('#container').highcharts();
            var series = chart.series[0];
            //2 seconds interval
            setInterval(function () {         
              $.getJSON("/data", function (res) {
                $.each(res, function (i, v) {
                  series.addPoint(v);
                });
              });
            }, 2000);
          }
        }
      },
      rangeSelector : {
        selected : 1
      },
      title : {
        text : 'Real-time Monitoring'
      },
      series : [{
        name : 'Real-time Number',
        data : data,
        tooltip: {
          valueDecimals: 2
        }
      }]
    });
  });
});
</script>
</html>



